<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tap the Dot Deluxe</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
            touch-action: manipulation;
        }
        .container {
            text-align: center;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        #game-area {
            width: 300px;
            height: 300px;
            background-color: #e0e0e0;
            border: 2px solid #333;
            position: relative;
            overflow: hidden;
            border-radius: 5px;
            margin: 10px auto;
        }
        #dot {
            background-color: #ff4500;
            border-radius: 50%;
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        #score, #timer, #high-score {
            font-size: 18px;
            margin: 10px 0;
        }
        #start-button, #reset-score, #difficulty {
            font-size: 16px;
            padding: 8px 16px;
            margin: 10px 5px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #4CAF50;
            color: white;
            transition: background-color 0.3s;
        }
        #start-button:hover, #reset-score:hover {
            background-color: #45a049;
        }
        #difficulty {
            background-color: #008CBA;
        }
        #difficulty:hover {
            background-color: #007B9A;
        }
        #ad-container {
            margin-top: 20px;
            width: 320px;
            height: 50px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            display: flex;
            justify-content: center;
            align-items: center;
            font-style: italic;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Tap the Dot Deluxe</h1>
        <div id="high-score">High Score: 0</div>
        <div id="score">Score: 0</div>
        <div id="timer">Time: 30s</div>
        <div id="game-area">
            <div id="dot"></div>
        </div>
        <select id="difficulty">
            <option value="snail">Snail's Pace</option>
            <option value="easy">Easy Breezy</option>
            <option value="medium">Middle Ground</option>
            <option value="hard">Hardcore Tapper</option>
            <option value="insane">Insane Reflexes</option>
        </select>
        <button id="start-button">Start Game</button>
        <button id="reset-score">Reset High Score</button>
    </div>
    <div id="ad-container">
        <script type="text/javascript">
        atOptions = {
            'key' : 'd2f8f2ff1fcf4219949058a72cbd94f2',
            'format' : 'iframe',
            'height' : 50,
            'width' : 320,
            'params' : {}
        };
        document.addEventListener('DOMContentLoaded', (event) => {
            const script = document.createElement('script');
            script.src = "//www.topcreativeformat.com/d2f8f2ff1fcf4219949058a72cbd94f2/invoke.js";
            script.async = true;
            document.getElementById('ad-container').appendChild(script);
        });
    </script>
    </div>

    <script>
        const gameArea = document.getElementById('game-area');
        const dot = document.getElementById('dot');
        const scoreDisplay = document.getElementById('score');
        const highScoreDisplay = document.getElementById('high-score');
        const timerDisplay = document.getElementById('timer');
        const startButton = document.getElementById('start-button');
        const resetScoreButton = document.getElementById('reset-score');
        const difficultySelect = document.getElementById('difficulty');

        let score = 0;
        let highScore = parseInt(localStorage.getItem('highScore')) || 0;
        let timeLeft = 30;
        let gameInterval;
        let dotSize = 30;
        let moveInterval = 1000;

        updateHighScoreDisplay();

        function setDifficulty() {
            const difficulty = difficultySelect.value;
            switch (difficulty) {
                case 'snail':
                    dotSize = 35;
                    moveInterval = 1200;
                    break;
                case 'easy':
                    dotSize = 30;
                    moveInterval = 1000;
                    break;
                case 'medium':
                    dotSize = 25;
                    moveInterval = 800;
                    break;
                case 'hard':
                    dotSize = 20;
                    moveInterval = 600;
                    break;
                case 'insane':
                    dotSize = 15;
                    moveInterval = 400;
                    break;
            }
            dot.style.width = `${dotSize}px`;
            dot.style.height = `${dotSize}px`;
        }

        function moveDot() {
            const maxX = gameArea.clientWidth - dotSize;
            const maxY = gameArea.clientHeight - dotSize;
            dot.style.left = Math.random() * maxX + 'px';
            dot.style.top = Math.random() * maxY + 'px';
        }

        function updateTimer() {
            timeLeft--;
            timerDisplay.textContent = `Time: ${timeLeft}s`;
            if (timeLeft === 0) {
                endGame();
            }
        }

        function startGame() {
            score = 0;
            timeLeft = 30;
            scoreDisplay.textContent = 'Score: 0';
            timerDisplay.textContent = 'Time: 30s';
            startButton.disabled = true;
            difficultySelect.disabled = true;
            dot.style.display = 'block';
            setDifficulty();
            moveDot();
            gameInterval = setInterval(() => {
                moveDot();
                updateTimer();
            }, moveInterval);
        }

        function endGame() {
            clearInterval(gameInterval);
            dot.style.display = 'none';
            startButton.disabled = false;
            difficultySelect.disabled = false;
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('highScore', highScore);
                updateHighScoreDisplay();
            }
            alert(`Game Over! Your score: ${score}`);
        }

        function updateHighScoreDisplay() {
            highScoreDisplay.textContent = `High Score: ${highScore}`;
        }

        function resetHighScore() {
            highScore = 0;
            localStorage.setItem('highScore', highScore);
            updateHighScoreDisplay();
            alert('High score has been reset!');
        }

        dot.addEventListener('click', () => {
            score++;
            scoreDisplay.textContent = `Score: ${score}`;
            moveDot();
        });

        startButton.addEventListener('click', startGame);
        difficultySelect.addEventListener('change', setDifficulty);
        resetScoreButton.addEventListener('click', resetHighScore);
    </script>
</body>
</html>
